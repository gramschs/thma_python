---
kernelspec:
  name: python3
  display_name: 'Python 3'
---

# 4.2 Einfache Verzweigung

Im letzten Kapitel haben wir gelernt, wie ein Vergleich in Python durchgeführt
wird und mit welchem Datentyp das Ergebnis eines solchen Vergleichs gespeichert
wird. In diesem Kapitel geht es nun darum, dass ein Python-Programm auf das
Ergebnis eines Vergleichs reagiert, indem Code-Abschnitte nur dann ausgeführt
werden, wenn eine Bedingung erfüllt ist.

## Lernziele

```{admonition} Lernziele
:class: attention
* [ ] Sie können mit `if` eine Programmverzweigung implementieren.
* [ ] Sie können mit einer if-Verzweigung Titel und Achsenbeschriftungen eines
  Liniendiagramms sprachabhängig setzen.
```

## Syntax der if-Verzweigung

Verzweigungen werden beim Programmieren eingesetzt, um eine Entscheidung zu
treffen. Abhängig vom Ausgang der Entscheidung wird Code ausgeführt. Wir
greifen das Beispiel der Bremsscheibe wieder auf. Ein Messsensor im Auto misst
die Temperatur. Sobald die kritische Temperatur von 300 °C überschritten wird,
soll eine Warnung im Cockpit ausgegeben werden. Mit Python wird das
folgendermaßen realisiert (ändern Sie die Temperatur auch auf Werte kleiner 300
°C und beobachten Sie, was ausgegeben wird):

```{code-cell} python
# Konfiguration
KRITISCHE_TEMPERATUR_C = 300

# Eingabe der Temperatur Bremsscheibe in Grad Celsius
temperatur_C = 318

# Entscheidung
if temperatur_C > KRITISCHE_TEMPERATUR_C:
    print('Warnung: die kritische Temperatur der Bremsscheibe ist überschritten.')
    print('Bitte halten Sie an.')
print('Fahren Sie immer mit angepasster Geschwindigkeit!')
```

Zuerst definieren wir eine Konstante für die kritische Temperatur von 300 °C. In
der Python-Community ist es üblich, für Konstanten durchgängig Großbuchstaben zu
verwenden. Dann simulieren wir den Messsensor, indem wir manuell die aktuelle
Temperatur (hier 318 °C) der Variablen `temperatur_C` zuweisen. Jetzt kommt der
interessante Code. *Wenn* die aktuelle Temperatur `temperatur_C` größer als die
kritische Temperatur ist, *dann* soll die Warnung ausgegeben werden. Dazu
verwenden wir in Python das Schlüsselwort `if` zusammen mit der Bedingung
`temperatur_C > KRITISCHE_TEMPERATUR_C`, die von einem Doppelpunkt `:`
abgeschlossen wird. Die Ausgabe der Warnung mit `print()` wird durch vier
Leerzeichen eingerückt. Sobald Code nicht mehr eingerückt wird, wird er
unabhängig vom Ergebnis des Vergleichs ausgeführt wie hier der Hinweis, immer
mit angepasster Geschwindigkeit zu fahren.

Fassen wir zusammen. Bei einer Programmverzweigung wird Code abhängig von einer
Bedingung ausgeführt. Im einfachsten Fall liegt ein sogenannter **if-Block**
vor. Die Syntax lautet wie folgt:

```python
if bedingung:
    anweisung1  # gehört zum if-Block
    anweisung2  # gehört zum if-Block
    ...
    anweisungN  # gehört zum if-Block
anweisung3      # gehört NICHT zum if-Block, wird immer ausgeführt
```

Ist die Bedingung erfüllt, also `True`, so wird der eingerückte Anweisungsblock
ausgeführt. Ist die Bedingung *nicht* erfüllt, wird dieser übersprungen. Damit
ist gemeint, dass der Python-Interpreter nach dem Ende des `if`-Blocks
weitermacht, falls die Bedingung nicht erfüllt ist (= `False`).

Das Ende eines if-Blocks wird in Python durch die Einrückung bestimmt. Alle
Anweisungen, die mit der gleichen Einrückung nach dem Doppelpunkt folgen,
gehören zum if-Block. Sobald eine Zeile mit geringerer Einrückung (oder ohne
Einrückung) erscheint, erkennt Python, dass der if-Block abgeschlossen ist.
Diese Anweisungen werden dann unabhängig vom Ergebnis der if-Bedingung
ausgeführt.

```{admonition} Mini-Übung
:class: tip
Schreiben Sie ein Skript, das einen Benutzer oder eine Benutzerin nach der
höchsten gemessenen Temperatur der Bremsscheibe fragt. Wenn die Temperatur
größer als 350 ˚C ist, soll ausgegeben werden: "Bitte lassen Sie eine Inspektion
der Bremse in einer Werkstatt durchführen."
```

```{code-cell} python
# Code-Zelle

```

````{admonition} Lösung
:class: tip
:class: dropdown
```python
# Eingabe der Höchsttemperatur Bremsscheibe in Grad Celsius
temperatur = float(input('Welche Temperatur hatte die Bremsscheibe maximal (in Grad Celsius)? '))

# Verarbeitung und Ausgabe
if temperatur > 350:
    print('Bitte lassen Sie eine Inspektion der Bremse in einer Werkstatt durchführen.')
```
````

```{dropdown} Video "if-Anweisung" von Programmieren Starten
<iframe width="560" height="315" src="https://www.youtube.com/embed/b6KzYbM-Hvg"
title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write;
encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
```

## Anwendung der if-Verzweigung bei Liniendiagrammen

Zum Abschluss des Kapitels wenden wir die if-Verzweigung zur Gestaltung eines
Liniendiagramms an. Zunächst erstellen wir zu (künstlichen) Messwerten der
Bremsscheiben-Temperatur ein Liniendiagramm mit Plotly Express.

```{code-cell} python
import plotly.express as px

# Zeit in Sekunden während des Bremsvorgangs
zeit_s = [0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0]

# Temperatur der Bremsscheibe in °C
temperatur_celsius = [80, 145, 210, 265, 305, 335, 350]

# Visualisierung als Liniendiagramm
fig = px.line(x=zeit_s, y=temperatur_celsius,
              title='Bremsscheibentemperatur während der Bremsung',
              labels={'x': 'Zeit in Sekunden', 'y': 'Temperatur in °C'})
fig.show()
```

```{admonition} Mini-Übung
:class: tip
In internationalen Ingenieurteams müssen Diagramme oft in mehreren Sprachen
vorliegen. Erweitern Sie das Liniendiagramm der Bremsscheibentemperatur um einen
Sprach-Umschalter: Der Benutzer oder die Benutzerin soll beim Programmstart
wählen können, ob Titel und Achsenbeschriftungen auf Deutsch oder Englisch
angezeigt werden. Deutsch soll die Voreinstellung sein.
```

```{code-cell} python
# Code-Zelle

```

````{admonition} Lösung
:class: tip
:class: dropdown
```python
# Import wird hier der Vollständigkeit halber wiederholt
import plotly.express as px

# Zeit in Sekunden während des Bremsvorgangs
zeit_s = [0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0]

# Temperatur der Bremsscheibe in °C
temperatur_celsius = [80, 145, 210, 265, 305, 335, 350]

# Voreinstellung: deutsche Texte
titel = 'Bremsscheibentemperatur während der Bremsung'
beschriftung_x = 'Zeit in Sekunden'
beschriftung_y = 'Temperatur in °C'

# Sprachauswahl
sprache = input('Bitte wählen Sie die Sprache (DE/EN): ')

# Englische Texte, wenn EN gewählt wurde
if sprache == 'EN':
    titel = 'Brake disc temperature during braking'
    beschriftung_x = 'Time in seconds'
    beschriftung_y = 'Temperature in °C'

# Visualisierung
fig = px.line(x=zeit_s, y=temperatur_celsius,
              title=titel,
              labels={'x': beschriftung_x, 'y': beschriftung_y})
fig.show()
```
````

## Zusammenfassung und Ausblick

Mit den Inhalten dieses Kapitels können wir Entscheidungen treffen. Abhängig von
dem Ergebnis eines Vergleichs werden Teile des Codes ausgeführt oder
übersprungen. Ein Anwendungsbeispiel haben wir bei der Gestaltung der
Spracheinstellung des Liniendiagramms gesehen. In späteren Kapiteln werden wir
auch mehrfache Verzweigungen behandeln.
